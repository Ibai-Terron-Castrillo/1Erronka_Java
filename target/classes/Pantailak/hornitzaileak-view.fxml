<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.Cursor?>
<?import javafx.scene.shape.SVGPath?>

<?import java.lang.String?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<BorderPane xmlns="http://javafx.com/javafx/17.0.2"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Pantailak.HornitzaileakController"
            style="-fx-background-color: #f8fafc;">

    <top>
        <VBox spacing="0">
            <HBox spacing="15" alignment="CENTER_LEFT"
                  style="-fx-background-color: white; -fx-padding: 15 20; -fx-border-color: #e2e8f0; -fx-border-width: 0 0 1 0;">

                <Button fx:id="atzeraBotoia" onAction="#atzeraBueltatu"
                        prefHeight="40"
                        prefWidth="40"
                        style="-fx-background-color: #4a5568; -fx-background-radius: 20; -fx-cursor: hand;">
                    <graphic>
                        <SVGPath content="M15 19l-7-7 7-7"
                                 style="-fx-stroke: white; -fx-stroke-width: 2; -fx-fill: transparent;" />
                    </graphic>
                    <tooltip>
                        <Tooltip text="Atzera" />
                    </tooltip>
                </Button>

                <Label text="Hornitzaileak"
                       style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #2d3748;"/>

                <Pane HBox.hgrow="ALWAYS" />

                <HBox spacing="8" alignment="CENTER_RIGHT">
                    <Button fx:id="refreshButton"
                            text="ðŸ”„ Freskatu"
                            style="-fx-background-color: #4a5568; -fx-text-fill: white; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 8 15;">
                        <tooltip>
                            <Tooltip text="Datuak freskatu"/>
                        </tooltip>
                    </Button>
                </HBox>
            </HBox>

            <HBox spacing="10" alignment="CENTER_LEFT"
                  style="-fx-background-color: #f7fafc; -fx-padding: 10 20; -fx-border-color: #e2e8f0; -fx-border-width: 0 0 1 0;">

                <TextField fx:id="searchField"
                           promptText="Bilatu hornitzailea..."
                           prefWidth="300"
                           style="-fx-background-radius: 5;"/>

                <ComboBox fx:id="filterOrdenatu"
                          prefWidth="150"
                          promptText="Ordenatu"
                          style="-fx-background-radius: 5;"/>

                <Button fx:id="btnAddHornitzailea"
                        text="+ Hornitzaile"
                        style="-fx-background-color: #38a169; -fx-text-fill: white; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 8 15;">
                    <tooltip>
                        <Tooltip text="Hornitzaile berria gehitu"/>
                    </tooltip>
                </Button>

                <Button fx:id="btnDeleteHornitzailea"
                        text="Ezabatu"
                        style="-fx-background-color: #e53e3e; -fx-text-fill: white; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 8 15;">
                    <tooltip>
                        <Tooltip text="Hornitzailea ezabatu"/>
                    </tooltip>
                </Button>

                <Pane HBox.hgrow="ALWAYS" />

                <Label fx:id="hornitzaileKopuruaLabel" text="0 hornitzaile"
                       style="-fx-text-fill: #718096; -fx-font-size: 14;"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <SplitPane dividerPositions="0.5" style="-fx-padding: 15;">
            <VBox spacing="10">
                <TableView fx:id="tableHornitzaileak"
                           VBox.vgrow="ALWAYS"
                           style="-fx-background-color: white; -fx-border-color: #e2e8f0; -fx-border-width: 1; -fx-background-radius: 5;">
                    <columns>
                        <TableColumn fx:id="colHornitzaileId" text="ID" prefWidth="50">
                            <style>
                                <String fx:value="-fx-alignment: CENTER;" />
                            </style>
                        </TableColumn>
                        <TableColumn fx:id="colHornitzaileIzena" text="Izena" prefWidth="180"/>
                        <TableColumn fx:id="colHornitzaileCif" text="CIF" prefWidth="100">
                            <style>
                                <String fx:value="-fx-alignment: CENTER;" />
                            </style>
                        </TableColumn>
                        <TableColumn fx:id="colHornitzaileSektorea" text="Sektorea" prefWidth="120"/>
                        <TableColumn fx:id="colHornitzaileHelbidea" text="Helbidea" prefWidth="200"/>
                        <TableColumn fx:id="colHornitzaileTelefonoa" text="Telefonoa" prefWidth="110">
                            <style>
                                <String fx:value="-fx-alignment: CENTER;" />
                            </style>
                        </TableColumn>
                        <TableColumn fx:id="colHornitzaileEmail" text="Email" prefWidth="200"/>
                    </columns>
                </TableView>

                <VBox spacing="15" style="-fx-padding: 20; -fx-background-color: white; -fx-border-color: #e2e8f0; -fx-border-width: 1; -fx-border-radius: 5;">
                    <Label text="Hornitzailearen datuak"
                           style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2d3748;"/>

                    <GridPane hgap="15" vgap="10">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="50" />
                            <ColumnConstraints percentWidth="50" />
                        </columnConstraints>

                        <Label text="Izena *" GridPane.rowIndex="0" GridPane.columnIndex="0"
                               style="-fx-font-weight: bold; -fx-text-fill: #4a5568;"/>
                        <TextField fx:id="txtIzena" GridPane.rowIndex="0" GridPane.columnIndex="1"
                                   style="-fx-background-radius: 5; -fx-padding: 8;"/>

                        <Label text="CIF *" GridPane.rowIndex="1" GridPane.columnIndex="0"
                               style="-fx-font-weight: bold; -fx-text-fill: #4a5568;"/>
                        <TextField fx:id="txtCif" GridPane.rowIndex="1" GridPane.columnIndex="1"
                                   style="-fx-background-radius: 5; -fx-padding: 8;"/>

                        <Label text="Sektorea" GridPane.rowIndex="2" GridPane.columnIndex="0"
                               style="-fx-font-weight: bold; -fx-text-fill: #4a5568;"/>
                        <TextField fx:id="txtSektorea" GridPane.rowIndex="2" GridPane.columnIndex="1"
                                   style="-fx-background-radius: 5; -fx-padding: 8;"/>

                        <Label text="Telefonoa *" GridPane.rowIndex="3" GridPane.columnIndex="0"
                               style="-fx-font-weight: bold; -fx-text-fill: #4a5568;"/>
                        <TextField fx:id="txtTelefonoa" GridPane.rowIndex="3" GridPane.columnIndex="1"
                                   style="-fx-background-radius: 5; -fx-padding: 8;"/>

                        <Label text="Email *" GridPane.rowIndex="4" GridPane.columnIndex="0"
                               style="-fx-font-weight: bold; -fx-text-fill: #4a5568;"/>
                        <TextField fx:id="txtEmail" GridPane.rowIndex="4" GridPane.columnIndex="1"
                                   style="-fx-background-radius: 5; -fx-padding: 8;"/>

                        <Label text="Helbidea" GridPane.rowIndex="5" GridPane.columnIndex="0"
                               style="-fx-font-weight: bold; -fx-text-fill: #4a5568;"/>
                        <TextField fx:id="txtHelbidea" GridPane.rowIndex="5" GridPane.columnIndex="1"
                                   style="-fx-background-radius: 5; -fx-padding: 8;"/>
                    </GridPane>

                    <HBox spacing="10" alignment="CENTER_RIGHT">
                        <Button fx:id="btnCancelHornitzailea"
                                text="Utzi"
                                style="-fx-background-color: #a0aec0; -fx-text-fill: white; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 8 20;"/>
                        <Button fx:id="btnSaveHornitzailea"
                                text="Gorde"
                                style="-fx-background-color: #3182ce; -fx-text-fill: white; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 8 20;"/>
                    </HBox>
                </VBox>
            </VBox>

            <VBox spacing="10">
                <VBox spacing="10" VBox.vgrow="ALWAYS">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Label text="Hornitzailearen Osagaiak"
                               style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2d3748;"/>
                        <Pane HBox.hgrow="ALWAYS" />
                        <Label fx:id="osagaiKopuruaLabel" text="0 osagai"
                               style="-fx-text-fill: #718096; -fx-font-size: 14;"/>
                    </HBox>

                    <TableView fx:id="tableHornitzailearenOsagaiak"
                               VBox.vgrow="ALWAYS"
                               style="-fx-background-color: white; -fx-border-color: #e2e8f0; -fx-border-width: 1; -fx-background-radius: 5;">
                        <columns>
                            <TableColumn fx:id="colOsagaiIzena" text="Osagaia" prefWidth="250"/>
                            <TableColumn fx:id="colOsagaiPrezioa" text="Prezioa (â‚¬)" prefWidth="100">
                                <style>
                                    <String fx:value="-fx-alignment: CENTER_RIGHT;" />
                                </style>
                                <cellValueFactory>
                                    <PropertyValueFactory property="azkenPrezioa" />
                                </cellValueFactory>
                            </TableColumn>
                            <TableColumn fx:id="colOsagaiStock" text="Stock" prefWidth="80">
                                <style>
                                    <String fx:value="-fx-alignment: CENTER;" />
                                </style>
                            </TableColumn>
                            <TableColumn fx:id="colOsagaiEskatu" text="Eskatu" prefWidth="80">
                                <style>
                                    <String fx:value="-fx-alignment: CENTER;" />
                                </style>
                                <cellValueFactory>
                                    <PropertyValueFactory property="eskatu" />
                                </cellValueFactory>
                            </TableColumn>
                        </columns>
                    </TableView>
                </VBox>

                <VBox spacing="15" style="-fx-padding: 20; -fx-background-color: white; -fx-border-color: #e2e8f0; -fx-border-width: 1; -fx-border-radius: 5;">
                    <Label text="Osagaiak Kudeatu"
                           style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2d3748;"/>

                    <GridPane hgap="10" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="70" />
                            <ColumnConstraints percentWidth="30" />
                        </columnConstraints>

                        <VBox spacing="5" GridPane.rowIndex="0" GridPane.columnIndex="0">
                            <Label text="Gehitu osagai berria:"
                                   style="-fx-font-weight: bold; -fx-text-fill: #4a5568;"/>
                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <ComboBox fx:id="comboOsagaiak"
                                          prefWidth="300"
                                          promptText="Aukeratu osagaia..."
                                          style="-fx-background-radius: 5; -fx-padding: 8;"/>
                            </HBox>
                        </VBox>

                        <Button fx:id="btnGehituOsagaia"
                                text="Gehitu"
                                GridPane.rowIndex="0" GridPane.columnIndex="1"
                                style="-fx-background-color: #38a169; -fx-text-fill: white; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 10 15;"
                                disable="true">
                            <tooltip>
                                <Tooltip text="Osagaia hornitzaileari gehitu"/>
                            </tooltip>
                        </Button>

                        <VBox spacing="5" GridPane.rowIndex="1" GridPane.columnIndex="0">
                            <Label text="Kendu aukeratutako osagaia:"
                                   style="-fx-font-weight: bold; -fx-text-fill: #4a5568;"/>
                            <Label text="Aukeratu osagaia goiko taulan"
                                   style="-fx-text-fill: #718096;"/>
                        </VBox>

                        <Button fx:id="btnKenduOsagaia"
                                text="Kendu"
                                GridPane.rowIndex="1" GridPane.columnIndex="1"
                                style="-fx-background-color: #e53e3e; -fx-text-fill: white; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 10 15;"
                                disable="true">
                            <tooltip>
                                <Tooltip text="Osagaia hornitzaileatik kendu"/>
                            </tooltip>
                        </Button>
                    </GridPane>

                    <VBox spacing="10" style="-fx-padding: 15; -fx-background-color: #f7fafc; -fx-border-color: #e2e8f0; -fx-border-width: 1; -fx-border-radius: 5; -fx-margin-top: 15;">
                        <Label text="Informazioa" style="-fx-font-weight: bold; -fx-text-fill: #4a5568;"/>
                        <VBox spacing="5">
                            <Label text="â€¢ Aukeratu hornitzaile bat ezkerreko taulan"
                                   style="-fx-text-fill: #718096;"/>
                            <Label text="â€¢ Osagaiak automatikoki kargatuko dira"
                                   style="-fx-text-fill: #718096;"/>
                            <Label text="â€¢ Erabili desplegablea osagai berria gehitzeko"
                                   style="-fx-text-fill: #718096;"/>
                            <Label text="â€¢ Aukeratu osagaia taulan eta sakatu 'Kendu'"
                                   style="-fx-text-fill: #718096;"/>
                        </VBox>
                    </VBox>
                </VBox>
            </VBox>
        </SplitPane>
    </center>

    <bottom>
        <HBox spacing="20" alignment="CENTER_LEFT"
              style="-fx-background-color: white; -fx-padding: 15 20; -fx-border-color: #e2e8f0; -fx-border-width: 1 0 0 0;">

            <VBox spacing="5">
                <Label text="Hornitzaile kopurua" style="-fx-text-fill: #718096; -fx-font-size: 12;"/>
                <Label fx:id="totalHornitzaileakLabel" text="0"
                       style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #2d3748;"/>
            </VBox>

            <VBox spacing="5">
                <Label text="Hornitzaile berriak (7 egun)" style="-fx-text-fill: #718096; -fx-font-size: 12;"/>
                <Label fx:id="hornitzaileBerriakLabel" text="0"
                       style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #38a169;"/>
            </VBox>

            <Separator orientation="VERTICAL" prefHeight="30"/>

            <VBox spacing="5">
                <Label text="Osagai Gehienak" style="-fx-text-fill: #718096; -fx-font-size: 12;"/>
                <Label fx:id="osagaiGehienLabel" text="-"
                       style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #3182ce;"/>
            </VBox>

            <VBox spacing="5">
                <Label text="Osagai Gutxienak" style="-fx-text-fill: #718096; -fx-font-size: 12;"/>
                <Label fx:id="osagaiGutxienLabel" text="-"
                       style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #ed8936;"/>
            </VBox>

            <Pane HBox.hgrow="ALWAYS" />

            <VBox spacing="5" alignment="CENTER_RIGHT">
                <Label fx:id="dataLabel" text="" style="-fx-text-fill: #718096; -fx-font-size: 12;"/>
                <Label fx:id="orduaLabel" text="" style="-fx-text-fill: #718096; -fx-font-size: 12;"/>
            </VBox>
        </HBox>
    </bottom>

    <padding>
        <Insets top="5" right="5" bottom="5" left="5" />
    </padding>
</BorderPane>
/* ===== OSIS SUITE - IDENTIDAD VISUAL ===== */
/* Versión: 5.0 - Corrección del rectángulo gris en cabeceras */

/* ===== VARIABLES GLOBALES ===== */
.root {
    /* Fondo principal - Blanco Garbia según manual (página 10) */
    -fx-background-color: #F5F5F5;

    /* Colores base según manual (página 10) */
    -osis-primary: #F3863A;        /* Controlatutako sua - Fuego Controlado */
    -osis-secondary: #1D505B;      /* Ozeano sakona - Océano Profundo */
    -osis-beige: #C19A6B;          /* Beige epela */
    -osis-surface: #F5F5F5;        /* Zuri garbia */

    /* Colores funcionales por aplicación (página 11) */
    -osis-management: #5E1B4F;     /* Management - Errendimenduaren Morea (PRIMARIO) */
    -osis-service: #1B345D;        /* Service - Fluxuaren Urdina */
    -osis-tpv: #1C5F2B;            /* TPV - Transakzioaren Berdea */
    -osis-kitchen: #5B1C1C;        /* Kitchen - Ekoizpenaren Gorria */

    /* Estados (implícitos en colores de aplicación) */
    -osis-success: #1C5F2B;        /* Éxito - TPV Verde */
    -osis-warning: #F3863A;        /* Advertencia - Naranja primario */
    -osis-danger: #5B1C1C;         /* Error/Urgente - Rojo Kitchen */

    /* Tipografías según manual (página 13) */
    -osis-font-title: "Cormorant Garamond";
    -osis-font-body: "Segoe UI";
}

/* ===== TIPOGRAFÍA Y JERARQUÍA ===== */
/* Titulares - Cormorant Garamond (página 13) */
.h1, .title-xxl {
    -fx-font-family: "Cormorant Garamond";
    -fx-font-size: 32px;
    -fx-font-weight: bold;
    -fx-text-fill: #5E1B4F; /* Management Purple para títulos */
}

.h2, .title-xl {
    -fx-font-family: "Cormorant Garamond";
    -fx-font-size: 28px;
    -fx-font-weight: 600; /* Semibold */
    -fx-text-fill: #5E1B4F;
}

.h3, .title-large {
    -fx-font-family: "Cormorant Garamond";
    -fx-font-size: 24px;
    -fx-font-weight: 500; /* Medium */
    -fx-text-fill: #5E1B4F;
}

/* Texto cuerpo - Segoe UI (página 13) */
.body-large {
    -fx-font-family: "Segoe UI";
    -fx-font-size: 16px;
    -fx-text-fill: #333333;
}

.body-medium, .label {
    -fx-font-family: "Segoe UI";
    -fx-font-size: 14px;
    -fx-text-fill: #444444;
}

.body-small, .caption {
    -fx-font-family: "Segoe UI";
    -fx-font-size: 12px;
    -fx-text-fill: #666666;
}

/* Texto en negrita - Segoe UI */
.bold {
    -fx-font-family: "Segoe UI";
    -fx-font-weight: bold;
}

.semibold {
    -fx-font-family: "Segoe UI";
    -fx-font-weight: 600;
}

/* ===== BOTONES PRINCIPALES ===== */
/* Botón primario - Management Purple (página 19) */
.btn-primary {
    -fx-background-color: -osis-management; /* #5E1B4F - Management Purple */
    -fx-text-fill: white;
    -fx-font-family: "Segoe UI";
    -fx-font-weight: 600;
    -fx-font-size: 14px;
    -fx-background-radius: 6px;
    -fx-padding: 10px 20px;
    -fx-cursor: hand;
    -fx-effect: dropshadow(gaussian, rgba(94, 27, 79, 0.2), 6, 0, 0, 2);
}

.btn-primary:hover {
    -fx-background-color: #4A1540; /* Versión más oscura */
    -fx-scale-x: 1.02;
    -fx-scale-y: 1.02;
    -fx-effect: dropshadow(gaussian, rgba(94, 27, 79, 0.3), 8, 0, 0, 3);
    -fx-transition: all 0.2s;
}

.btn-primary:pressed {
    -fx-background-color: #3C1134;
    -fx-scale-x: 0.98;
    -fx-scale-y: 0.98;
}

/* Botón secundario - Fuego Controlado */
.btn-secondary {
    -fx-background-color: -osis-primary; /* #F3863A */
    -fx-text-fill: white;
    -fx-font-family: "Segoe UI";
    -fx-font-weight: 600;
    -fx-font-size: 14px;
    -fx-background-radius: 6px;
    -fx-padding: 10px 20px;
    -fx-cursor: hand;
    -fx-border-color: transparent;
}

.btn-secondary:hover {
    -fx-background-color: #E27934;
    -fx-border-color: #F3863A;
    -fx-border-width: 1px;
}

/* Botones por aplicación (página 19-20) */
.btn-management {
    -fx-background-color: -osis-management; /* #5E1B4F */
    -fx-text-fill: white;
    -fx-font-family: "Segoe UI";
    -fx-font-weight: 600;
    -fx-background-radius: 6px;
    -fx-padding: 10px 20px;
    -fx-cursor: hand;
}

.btn-service {
    -fx-background-color: -osis-service; /* #1B345D */
    -fx-text-fill: white;
    -fx-font-family: "Segoe UI";
    -fx-font-weight: 600;
    -fx-background-radius: 6px;
    -fx-padding: 10px 20px;
    -fx-cursor: hand;
}

.btn-tpv {
    -fx-background-color: -osis-tpv; /* #1C5F2B */
    -fx-text-fill: white;
    -fx-font-family: "Segoe UI";
    -fx-font-weight: 600;
    -fx-background-radius: 6px;
    -fx-padding: 10px 20px;
    -fx-cursor: hand;
}

.btn-kitchen {
    -fx-background-color: -osis-kitchen; /* #5B1C1C */
    -fx-text-fill: white;
    -fx-font-family: "Segoe UI";
    -fx-font-weight: 600;
    -fx-background-radius: 6px;
    -fx-padding: 10px 20px;
    -fx-cursor: hand;
}

/* Botón outline - Management Purple */
.btn-outline {
    -fx-background-color: transparent;
    -fx-text-fill: #5E1B4F; /* Management Purple */
    -fx-border-color: #5E1B4F;
    -fx-border-width: 1px;
    -fx-border-radius: 6px;
    -fx-font-family: "Segoe UI";
    -fx-font-weight: 600;
    -fx-padding: 9px 19px;
    -fx-cursor: hand;
}

.btn-outline:hover {
    -fx-background-color: rgba(94, 27, 79, 0.1);
    -fx-text-fill: #5E1B4F;
}

/* ===== INPUTS Y FORMULARIOS ===== */
/* Campo de texto (página 17) */
.text-field {
    -fx-background-color: white;
    -fx-border-color: #D1D5DB; /* Neutral gray instead of blue */
    -fx-border-width: 1px;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-font-family: "Segoe UI";
    -fx-font-size: 14px;
    -fx-padding: 8px 12px;
}

.text-field:focused {
    -fx-border-color: #5E1B4F; /* Management Purple en focus */
    -fx-border-width: 2px;
    -fx-effect: dropshadow(gaussian, rgba(94, 27, 79, 0.1), 4, 0, 0, 0);
}

/* Text area */
.text-area {
    -fx-background-color: white;
    -fx-border-color: #D1D5DB;
    -fx-border-width: 1px;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-font-family: "Segoe UI";
    -fx-font-size: 14px;
}

.text-area:focused {
    -fx-border-color: #5E1B4F;
    -fx-border-width: 2px;
}

.text-area .content {
    -fx-background-color: white;
}

/* Combo box */
.combo-box {
    -fx-background-color: white;
    -fx-border-color: #D1D5DB;
    -fx-border-width: 1px;
    -fx-border-radius: 4px;
    -fx-background-radius: 4px;
    -fx-font-family: "Segoe UI";
    -fx-font-size: 14px;
    -fx-padding: 0;
}

.combo-box:focused {
    -fx-border-color: #5E1B4F;
    -fx-border-width: 2px;
}

.combo-box .list-cell {
    -fx-text-fill: #444444;
    -fx-padding: 6px 10px;
}

.combo-box .arrow-button {
    -fx-background-color: transparent;
}

.combo-box .arrow {
    -fx-background-color: #6B7280;
}

/* ===== TABLAS - CORRECCIÓN RECTÁNGULO GRIS ===== */
.table-view {
    -fx-background-color: white;
    -fx-background-radius: 8px;
    -fx-border-color: #E2E8F0;
    -fx-border-width: 1px;
    -fx-border-radius: 8px;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.05), 4, 0, 0, 1);
}

/* CORRECCIÓN: Encabezados de tabla - SIN FILLER GRIS */
.table-view .column-header-background {
    -fx-background-color: #5E1B4F; /* Management Purple */
    -fx-background-radius: 8px 8px 0 0;
    -fx-padding: 0;
    /* IMPORTANTE: Esto asegura que el fondo cubra toda el área */
    -fx-max-height: 45px;
}

/* CORRECCIÓN: El filler que causa el rectángulo gris */
.table-view .column-header-background .filler {
    -fx-background-color: #5E1B4F; /* Mismo color que el fondo */
    -fx-border-color: transparent;
    -fx-padding: 0;
    -fx-opacity: 1;
}

/* CORRECCIÓN: Ocultar completamente el filler si es posible */
.table-view .column-header-background .filler:empty {
    -fx-background-color: transparent;
    -fx-border-color: transparent;
    -fx-pref-width: 0;
    -fx-max-width: 0;
    -fx-min-width: 0;
}

/* CORRECCIÓN: Botón para mostrar/ocultar columnas */
.table-view .show-hide-columns-button {
    -fx-background-color: #5E1B4F; /* Mismo color que el fondo */
    -fx-border-color: rgba(255, 255, 255, 0.3);
    -fx-text-fill: white;
}

.table-view .column-header,
.table-view .column-header .label {
    -fx-background-color: transparent;
    -fx-border-color: transparent;
    -fx-text-fill: white;
    -fx-font-family: "Segoe UI";
    -fx-font-weight: 600;
    -fx-font-size: 13px;
    -fx-padding: 12px 8px;
    -fx-alignment: CENTER_LEFT;
    -fx-text-alignment: left;
    /* CONFIGURACIÓN PARA TEXTO COMPLETO */
    -fx-wrap-text: true;
    -fx-text-overrun: CLIP;
    -fx-min-height: 40px;
}

/* CORRECCIÓN: Para evitar espacios en blanco entre columnas */
.table-view .column-header-background .nested-column-header {
    -fx-background-color: transparent;
    -fx-border-color: transparent;
}

/* CORRECCIÓN: Línea de separación entre cabeceras (opcional) */
.table-view .column-header {
    -fx-border-color: rgba(255, 255, 255, 0.2);
    -fx-border-width: 0 1px 0 0;
}

.table-view .column-header:last-child {
    -fx-border-width: 0;
}

/* Filas de tabla */
.table-view .table-row-cell {
    -fx-background-color: white;
    -fx-border-color: transparent;
    -fx-table-cell-border-color: transparent;
    -fx-min-height: 35px;
}

.table-view .table-row-cell:odd {
    -fx-background-color: #FAFAFA;
}

.table-view .table-row-cell:selected {
    -fx-background-color: #F3E5F5; /* Light purple for selection */
    -fx-text-fill: #5E1B4F;
}

.table-view .table-row-cell:hover {
    -fx-background-color: #F8F5F9; /* Very light purple on hover */
}

/* Celdas de tabla - TEXTO COMPLETO */
.table-cell {
    -fx-font-family: "Segoe UI";
    -fx-font-size: 13px;
    -fx-text-fill: #444444;
    -fx-alignment: CENTER_LEFT;
    -fx-padding: 10px 8px;
    -fx-border-color: #F0F0F0;
    -fx-border-width: 0 0 1px 0;
    /* CONFIGURACIÓN PARA TEXTO COMPLETO */
    -fx-wrap-text: true;
    -fx-text-overrun: CLIP;
    -fx-min-height: 35px;
}

/* Línea de separación entre celdas (opcional) */
.table-cell {
    -fx-border-color: #F0F0F0;
    -fx-border-width: 0 1px 1px 0;
}

.table-cell:last-column {
    -fx-border-width: 0 0 1px 0;
}

/* Para texto muy largo (múltiples líneas) */
.table-cell.long-text {
    -fx-wrap-text: true;
    -fx-text-alignment: left;
    -fx-alignment: TOP_LEFT;
}

/* Para columnas numéricas */
.table-cell.numeric {
    -fx-alignment: CENTER_RIGHT;
    -fx-text-alignment: right;
    -fx-font-family: "Segoe UI";
    -fx-font-weight: 600;
}

/* Para columnas booleanas/estado */
.table-cell.boolean {
    -fx-alignment: CENTER;
    -fx-text-alignment: center;
}

/* ===== TARJETAS KPI (Management App - página 19) ===== */
.kpi-card {
    -fx-background-color: white;
    -fx-background-radius: 12px;
    -fx-border-radius: 12px;
    -fx-padding: 20px;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.08), 10, 0, 0, 2);
    -fx-border-color: #F0F4F8;
    -fx-border-width: 1px;
}

.kpi-title {
    -fx-font-family: "Segoe UI";
    -fx-font-size: 14px;
    -fx-text-fill: #5E1B4F; /* Management Purple */
    -fx-font-weight: 600;
}

.kpi-value {
    -fx-font-family: "Segoe UI";
    -fx-font-size: 28px;
    -fx-font-weight: bold;
    -fx-text-fill: #5E1B4F; /* Management Purple */
}

/* ===== SOLUCIÓN ALTERNATIVA COMPLETA ===== */
/* Si el problema persiste, prueba esta solución radical: */

/* Solución 1: Deshabilitar completamente el filler */
.table-view .column-header-background > .filler {
    -fx-background-color: transparent !important;
    -fx-border-color: transparent !important;
    -fx-pref-width: 0 !important;
    -fx-max-width: 0 !important;
    -fx-min-width: 0 !important;
    -fx-opacity: 0 !important;
    visibility: hidden !important;
}

/* Solución 2: Usar una política de redimensionamiento diferente */
.table-view.constrained {
    -fx-table-cell-border-color: transparent;
    -fx-background-color: transparent;
}

.table-view.constrained .column-header-background {
    -fx-max-height: 0;
    -fx-pref-height: 0;
    -fx-min-height: 0;
    visibility: hidden;
}

/* Solución 3: Forzar que todas las columnas tengan contenido */
.column-header:empty .label {
    -fx-text-fill: transparent;
    -fx-background-color: transparent;
}

/* ===== CONFIGURACIÓN PARA TABLAS SIN ESPACIOS VACÍOS ===== */
/* Esto asegura que el fondo cubra toda el área de cabecera */
.table-view .column-header-background:has(.filler:empty) {
    -fx-background-color: linear-gradient(to right, #5E1B4F 95%, #5E1B4F 100%);
}

/* Ocultar el scroll horizontal en cabeceras si no es necesario */
.table-view .column-header-background .scroll-bar:horizontal {
    -fx-opacity: 0;
    -fx-pref-height: 0;
    -fx-max-height: 0;
}

/* ===== CLASE ESPECÍFICA PARA TABLAS CON PROBLEMAS ===== */
.table-view.no-filler-problem {
    -fx-background-color: white;
    -fx-border-color: #E2E8F0;
    -fx-border-width: 1px;
    -fx-border-radius: 8px;
}

.table-view.no-filler-problem .column-header-background {
    -fx-background-color: #5E1B4F;
    -fx-padding: 0;
    -fx-background-radius: 8px 8px 0 0;
}

.table-view.no-filler-problem .column-header-background .filler {
    -fx-background-color: #5E1B4F;
    -fx-border-color: #5E1B4F;
    -fx-pref-width: 1px;
    -fx-max-width: 1px;
    -fx-min-width: 1px;
}

/* ===== MODO OSCURO ===== */
.root.dark-mode {
    -fx-background-color: #1D505B;
}

.root.dark-mode .label {
    -fx-text-fill: white;
}

.root.dark-mode .text-field,
.root.dark-mode .text-area,
.root.dark-mode .combo-box {
    -fx-background-color: #2A6B78;
    -fx-text-fill: white;
    -fx-border-color: #3A8B9A;
}

.root.dark-mode .table-view {
    -fx-background-color: #2A6B78;
    -fx-border-color: #3A8B9A;
}

.root.dark-mode .table-view .column-header-background {
    -fx-background-color: #5E1B4F;
}

.root.dark-mode .table-view .column-header-background .filler {
    -fx-background-color: #5E1B4F;
}

.root.dark-mode .table-cell {
    -fx-text-fill: white;
}

/* ===== CÓDIGO JAVA ADICIONAL RECOMENDADO ===== */
/* Para eliminar completamente el filler, añade este código en tu controlador: */

/*
@FXML
private TableView<TuClase> tuTabla;

public void initialize() {
    // Solución Java para eliminar el filler gris
    Platform.runLater(() -> {
        // Buscar y ocultar el filler
        for (Node node : tuTabla.lookupAll(".column-header-background .filler")) {
            node.setVisible(false);
            node.setManaged(false);
            node.setStyle("-fx-background-color: transparent; -fx-pref-width: 0;");
        }

        // Configurar política para evitar espacios vacíos
        tuTabla.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);
    });
}
*/

/* ===== ESTILO PARA SCROLLBARS EN TABLAS ===== */
.table-view .scroll-bar:vertical,
.table-view .scroll-bar:horizontal {
    -fx-background-color: transparent;
}

.table-view .scroll-bar:vertical .thumb,
.table-view .scroll-bar:horizontal .thumb {
    -fx-background-color: #D1D5DB;
    -fx-background-radius: 4px;
}

.table-view .scroll-bar .track {
    -fx-background-color: #F3F4F6;
    -fx-background-radius: 4px;
}